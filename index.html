<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>6-Card Personal Info</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
/* ---------- SCREEN STYLES ---------- */
body{font-family:Segoe UI,system-ui,sans-serif;margin:0;padding:15px;background:#e3f2fd}
h1{text-align:center;color:#0d47a1;margin:0 0 15px;font-size:24px}
.container{max-width:800px;margin:auto;background:#fff;border-radius:8px;box-shadow:0 4px 15px rgba(0,0,0,.15);padding:15px}
.person-section{background:#f5f9ff;border:1px solid #90caf9;border-radius:6px;padding:12px;margin-bottom:12px;display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:12px;line-height:1.3}
.person-header{grid-column:1/-1;display:flex;justify-content:space-between;align-items:center}
.person-number{font-weight:700;color:#0d47a1;font-size:14px}
.remove-btn{background:#d32f2f;color:#fff;border:none;padding:4px 8px;border-radius:4px;font-size:12px;cursor:pointer}
label{font-weight:600;font-size:11px;color:#0d47a1;margin-bottom:2px}
input,select{width:100%;padding:4px;border:1px solid #90caf9;border-radius:4px;font-size:12px}
.button-group{display:flex;gap:10px;justify-content:center;margin-top:15px}
button{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer}
.add-btn{background:#2e7d32;color:#fff}
.print-btn{background:#1565c0;color:#fff}
@media(max-width:600px){.person-section{grid-template-columns:1fr}}

/* ---------- PRINT STYLES ---------- */
@media print{
  @page{margin:0}               /* kill default margins */
  body{background:#fff;padding:0}
  h1,.button-group{display:none}
  .container{box-shadow:none;padding:0;max-width:none;margin:0}
  /* 6-up grid: 2 columns × 3 rows, each card 99×70 mm */
  #printGrid{display:grid;grid-template-columns:99mm 99mm;grid-template-rows:70mm 70mm 70mm;gap:2mm;width:210mm;height:297mm;margin:0}
  .card{width:99mm;height:70mm;border:1px solid #333;display:grid;grid-template-columns:1fr 1fr;gap:6px;padding:8px;font-size:10px;line-height:1.2;page-break-inside:avoid;background:#fff}
  .cardHeader{grid-column:1/-3;font-weight:700;font-size:12px;border-bottom:1px solid #000;margin-bottom:4px;padding-bottom:4px}
  .card label{font-size:9px;font-weight:600}
  .card input,.card select{border:none;border-bottom:1px solid #000;background:transparent;padding:2px 0;font-size:10px;width:100%}
}
</style>
</head>
<body>
<div class="container">
  <h1>Personal Information Form</h1>

  <!-- SCREEN FORM -->
  <div id="personsContainer"></div>
  <div class="button-group">
    <button class="add-btn" type="button" onclick="addPerson()">Add Person</button>
    <button class="print-btn" type="button" onclick="printPDF()">Print to PDF</button>
  </div>

  <!-- HIDDEN PRINT LAYOUT -->
  <div id="printGrid" style="display:none"></div>
</div>

<script>
let people=[];                 // data store
const fields=[
  {l:'Nationality',n:'nationality'},
  {l:'Last Name',n:'lastName'},
  {l:'First Name',n:'firstName'},
  {l:'Date of Birth',n:'dob',t:'date'},
  {l:'Place of Birth',n:'pob'},
  {l:'Religion',n:'religion',o:['','Muslim','Non-Muslim']},
  {l:'Sex',n:'sex',o:['','Male','Female']},
  {l:'Relation',n:'relation'},
  {l:'Passport Number',n:'passport'},
  {l:'Issue Date',n:'issueDate',t:'date'},
  {l:'Expiry Date',n:'expiryDate',t:'date'},
  {l:'Place of Issue',n:'placeOfIssue'},
  {l:'Visa Stamping Place',n:'visaStamp'}
];

function addPerson(){
  const id=people.length+1;
  people.push({id});
  renderScreen();
}
function removePerson(id){
  people=people.filter(p=>p.id!==id);
  renderScreen();
}
function renderScreen(){
  const box=document.getElementById('personsContainer');
  box.innerHTML='';
  people.forEach(p=>{
    const sec=document.createElement('div');
    sec.className='person-section';
    sec.innerHTML=`<div class="person-header"><span class="person-number">Person ${p.id}</span>
      <button class="remove-btn" onclick="removePerson(${p.id})">×</button></div>`+
      fields.map(f=>`<div class="form-group"><label>${f.l}${f.l.includes('Date')?'':' *'}</label>${
        f.o?select(f,n):inp(f,n)}</div>`).join('');
    function n(f){return`f-${p.id}-${f.n}`}
    function inp(f){return`<input id="${n(f)}" type="${f.t||'text'}" required>`}
    function select(f){return`<select id="${n(f)}" required><option>${f.o.join('</option><option>')}</option></select>`}
    box.appendChild(sec);
  });
}
function printPDF(){
  if(!people.length){alert('Add at least one person');return}
  if(document.querySelector('input:invalid')){alert('Fill all required fields');return}
  // collect live values
  people.forEach(p=>{
    fields.forEach(f=>{
      const el=document.getElementById(`f-${p.id}-${f.n}`);
      if(el) p[f.n]=el.value;
    })
  });
  // build 6-card grid
  const grid=document.getElementById('printGrid');
  grid.innerHTML='';
  for(let i=1;i<=6;i++){
    const card=document.createElement('div');
    card.className='card';
    const person=people[i-1];
    card.innerHTML=`<div class="cardHeader">Person ${i}</div>`+
      fields.map(f=>{
        const val=person?person[f.n]||'':'';
        return`<div><label>${f.l}</label><div style="border-bottom:1px solid #000;padding:2px 0;font-size:10px">${val}</div></div>`;
      }).join('');
    grid.appendChild(card);
  }
  // print
  grid.style.display='grid';
  setTimeout(()=>{
    window.print();
    grid.style.display='none';
  },100);
}
window.onload=()=>addPerson();
</script>
</body>
</html>
